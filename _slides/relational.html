---
layout: raw
---

# Databases

Problem statement:
1. Since the index for a useful search engine is too large to fit in RAM
we have to write it onto a disk (or a lot of disks)
1. We need a way to query the database and get results back

---

# Databases 2

1. The universe of databases is divided generally into two warring camps:
1. Relational Databases use a Schema where each row is an entry 
and each column is an attribute of that entry
1. Non-Relational databases, where Documents contain attributes, but no schema

---

# Relational DBs

1. Rely on a schema which contains rules about which tables can contain which attributes
1. [Referential Integrity](https://en.wikipedia.org/wiki/Referential_integrity) enforces 
the relationships defined in the schema
1. We can create, update (modify) and delete elements of a table, as long as 
the changes obey the rules specified in the schema
1. Can you imagine some pros or cons?

---

# Entity Relationships 

1. ER diagrams help define a schema. Proposed by 
[Peter Chen](https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model)
1. Draw some examples
1. How might our search engine use ER models?

---

# Document DBs

1. If your data model isn't relational, perhaps the rigidity of a relational DB isn't helpful?
1. Imagine a database which indexes [JSON](https://en.wikipedia.org/wiki/JSON) documents
1. Maybe it's not important that all documents contain the same attributes?
1. How might our search engine use a Document DB?

---

# Scalability

1. If you're building a search engine for a company, vertical scalability 
(bigger disk, faster computer) might be enough
1. If you're building a global-scale search engine, horizontal scalability
(more computers, more disks) will be required

---

# ACID Transactions 

1. Atomicity - if a transaction starts, it finishes
1. Consistency - all computers contain the same data
1. Isolation - concurrent and sequential results match
1. Durability - transaction results are permanent

Proposed by [Jim Gray](https://en.wikipedia.org/wiki/Jim_Gray_(computer_scientist))

---

# Pro Tip

1. Yes, relational DBs can be a drag, but
1. The stronger your ACID requirements are, the more you need a relational DB
1. Choose the right tool for the job

---

# CS 272

1. We will use a relational DB for this course
1. Hopefully the exposure will be valuable 